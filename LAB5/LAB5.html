<!DOCTYPE html>
<html>
   <head>
     <link rel="stylesheet" type="text/css" href="LAB2.css">
     <link rel="manifest" href="manifest.json">          
     <script src="ble.js" type="module"></script>
     <script src="smoothie.js" type="text/javascript"></script>

   </head>
   <body>
     <button class="bleconnect" onclick="bleconnectfunc()">Search</button> 
     <canvas id="mycanvas" width="1000" height="250"></canvas>

   </body>
</html>
<script>
if('serviceWorker' in navigator) {
         // window load後才執行，以免增加頁面讀取的時間
        window.addEventListener('load', function() {
      // 建立sw.js
                navigator.serviceWorker.register('sw.js')
                .then(function(reg) {
                         console.log(reg.scope); // 看這支sw.js執行的範圍
                 })
        // 註冊失敗
                 .catch(function(err) {
                 console.log('error: ', err);
                 });
    });
 }
</script>
